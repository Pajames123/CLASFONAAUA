<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLASFON AAUA | Christian Law Students' Fellowship of Nigeria</title>

    <script>
        window.AFRAME = null; 
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                mutation.addedNodes.forEach((node) => {
                    if (node.nodeName && node.nodeName.startsWith('A-')) {
                        node.parentNode.removeChild(node);
                    }
                });
            });
        });
        observer.observe(document.documentElement, { childList: true, subtree: true });
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;800&family=Playfair+Display:ital,wght@0,700;1,700&family=Montserrat:wght@300;500;700&family=Libre+Baskerville&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">

    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#c5a059">
</head>
<body>

    <div class="news-ticker-bar">
        <div class="ticker-content" id="automated-ticker">
            <div class="ticker-item"><span class="news-badge gold">SERVICE DAYS</span> <b>Monday:</b> Intercession (5 PM) | <b>Friday:</b> Fellowship (12 PM)</div>
            <div class="ticker-item"><span class="news-badge">DAILY VERSE</span> <span id="ticker-verse">"If anyone is in Christ, he is a new creation..." — 2 Cor 5:17</span></div>
            <div class="ticker-item"><span class="news-badge gold">UPDATE</span> <span id="ticker-news">Welcome to the 2025/2026 Session!</span></div>
        </div>
    </div>

    <nav class="institutional-nav">
        <div class="container nav-flex">
            <div class="brand">
                <img src="logo.png" alt="Logo" class="nav-logo" style="height:50px;">
                <div class="brand-text"><span class="logo-main">CLASFON</span><span class="logo-sub">AAUA CHAPTER</span></div>
            </div>
            <ul class="nav-links">
                <li><a href="#news-edition">Daily Revelation</a></li>
                <li><a href="#president-message">Address</a></li>
                <li><a href="#leaders">Leadership</a></li>
                <li><a href="hall-of-fame.html" class="nav-cta">Scroll of Honor</a></li>
            </ul>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-lighting"></div>
        <div class="hero-content">
            <h1 class="hero-main-title">CLASFON <br><span class="gold-italic">AAUA.</span></h1>
            <p class="hero-motto">A New Legal Profession Anchored on Christ</p>
            <div class="hero-actions">
                <a href="#news-edition" class="btn-gold">Today's Revelation</a>
                <button onclick="toggleMoses()" class="btn-outline">Consult Apostle Moses</button>
            </div>
        </div>
    </header>

    <section id="news-edition" class="section-padding" style="background: #080808;">
        <div class="container">
            <div style="text-align: center; margin-bottom: 50px;">
                <span class="stamp" id="today-date">JANUARY 2, 2026</span>
                <h2 class="cinzel-title gold" style="font-size: 2.5rem; margin-bottom: 0;">Daily News & Revelation</h2>
                <p style="color: #666; font-size: 0.8rem; letter-spacing: 2px;">SPIRITUAL NARRATIVES & GLOBAL WITNESS</p>
            </div>
            
            <div class="news-grid">
                <div class="news-card-featured">
                    <span class="news-tag">Daily Biblical Narrative</span>
                    <div class="news-info">
                        <h3 id="story-title" class="cinzel-title">The Call to Integrity</h3>
                        <p id="story-body" style="color: #bbb; font-size: 0.9rem; line-height: 1.8;">Loading today's apostolic insight...</p>
                        <p id="story-implication" style="color: var(--gold); font-style: italic; margin-top: 15px; border-top: 1px solid #222; padding-top: 10px;"></p>
                    </div>
                </div>
                
                <div class="secondary-news-list">
                    <div class="mini-news-item">
                        <span class="news-tag" style="background:none; color:var(--gold); border:1px solid var(--gold); padding:2px 8px;">GLOBAL CHRISTIAN NEWS</span>
                        <h4 id="global-news-title" style="margin: 15px 0;">Pope Leo XIV Calls for 2026 to be a Year of Peace</h4>
                        <p id="global-news-summary" style="font-size: 0.8rem; color: #888; margin-bottom: 15px;">Celebrating New Year's Mass, the Pontiff urged the world to reject violence and embrace forgiveness.</p>
                        <a href="#" class="read-more-link">View Full Record</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="president-message" class="section-padding">
        <div class="container">
            <div class="parchment-doc">
                <div class="doc-header">
                    <div class="doc-portrait"><img src="president.jpg" alt="President"></div>
                    <div class="doc-info">
                        <span class="stamp">OFFICIAL COMMUNIQUÉ</span>
                        <h2 class="doc-h2">Presidential Welcome</h2>
                        <p class="pres-meta">Ajisafe Koyinsola | 2025/2026 Session</p>
                    </div>
                </div>
                <div class="doc-main">
                    <p class="first-letter">S</p>
                    <p>halom to you in the precious name of our Lord Jesus Christ. It is with a heart full of gratitude and divine purpose that I welcome you to the official digital portal of the Christian Law Students’ Fellowship of Nigeria (CLASFON), Adekunle Ajasin University Chapter.</p>
                    <p>At CLASFON AAUA, we believe that the legal profession is not merely a career path or a means of livelihood; it is a high calling and a sacred ministry. We are raising a <strong>"New Network of Lawyers"</strong> governed by the laws of the Kingdom of God.</p>
                    <p>Our mandate is clear: to integrate our legal training with our spiritual convictions, producing advocates who are not only learned in the law of the land but are deeply rooted in the Law of the Spirit of Life in Christ Jesus.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="leaders" class="section-padding bg-slate">
        <div class="container">
            <h2 class="cinzel-title text-center" style="margin-bottom:50px;">Leadership Council</h2>
            <div class="sophisticated-grid">
                <div class="leader-box"><div class="leader-img-wrap"><img src="pres.jpg"></div><h3>Ajisafe Koyinsola</h3><p>President</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="vp.jpg"></div><h3>Salami Princess</h3><p>Vice President</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="gensec.jpg"></div><h3>Babatunde Olamide</h3><p>Gen Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="asst_gensec.jpg"></div><h3>Ogunesan Hannah</h3><p>Asst Gen Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="academic.jpg"></div><h3>Olajide Comfort</h3><p>Academic Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="asst_academic.jpg"></div><h3>Abraham Favour</h3><p>Asst Academic Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="prayer.jpg"></div><h3>Adesina Blessing</h3><p>Prayer Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="welfare.jpg"></div><h3>Fakomogbon Praises</h3><p>Welfare Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="asst_welfare.jpg"></div><h3>Ogunniyi Beatrice</h3><p>Asst Welfare Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="fin_sec.jpg"></div><h3>Arotiba Adesewa</h3><p>Financial Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="org_sec.jpg"></div><h3>Akinniyi Bridget</h3><p>Organising Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="asst_org.jpg"></div><h3>Ayoola Taiwo</h3><p>Asst Org Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="tech.jpg"></div><h3>Adegboro Adetomiwa</h3><p>Technical Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="freshers.jpg"></div><h3>Paul Ibukun Daniella</h3><p>Freshers Coord</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="media.jpg"></div><h3>Akinlade Goodness</h3><p>Media Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="asst_media.jpg"></div><h3>Williams Peace</h3><p>Asst Media Sec</p></div>
                <div class="leader-box"><div class="leader-img-wrap"><img src="choir.jpg"></div><h3>Olasele Adenike</h3><p>Choir Director</p></div>
            </div>
        </div>
    </section>

    <div id="ai-trigger" onclick="toggleMoses()">
        <div class="pulse-ring"></div>
        <i class="fa-solid fa-scale-balanced"></i> Ask Apostle Moses
    </div>

    <div id="moses-lectern">
        <div class="lectern-header">
            <div class="moses-mini-avatar"><img src="logo.png"><div class="online-indicator"></div></div>
            <div class="lectern-title-group"><span class="lectern-main">Apostle Moses</span><span class="lectern-status">Legal-Spiritual AI</span></div>
            <button onclick="toggleMoses()" class="close-lectern">&times;</button>
        </div>
        <div id="chat-archive"></div>
        <div class="input-area">
            <input type="text" id="user-q" placeholder="Consult the Scribe..." onkeypress="if(event.key==='Enter') askMoses()">
            <button onclick="askMoses()" class="send-btn"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
    </div>

    <footer class="luxury-footer">
        <div class="container footer-grid">
            <div class="f-col">
                <img src="logo.png" style="height:60px;">
                <p>"A new legal profession anchored on Christ."</p>
            </div>
            <div class="f-col">
                <h3 class="cinzel-title gold">Prayer Altar</h3>
                <form class="altar-form" action="https://formspree.io/f/mojqoajk" method="POST">
                    <input type="email" name="email" placeholder="Email Address" required>
                    <textarea name="message" placeholder="Submit your petition..." required></textarea>
                    <button type="submit">Send to Altar</button>
                </form>
            </div>
        </div>
    </footer>

    <script>
        async function fetchDailyRevelation() {
            try {
                const res = await fetch('/api/apostle-moses?type=daily-news');
                const data = await res.json();
                
                document.getElementById('ticker-verse').innerText = data.verse;
                document.getElementById('ticker-news').innerText = data.charge;
                document.getElementById('story-title').innerText = data.storyTitle;
                document.getElementById('story-body').innerText = data.storyText;
                document.getElementById('story-implication').innerHTML = `<b>Legal Implication:</b> ${data.implication}`;
                document.getElementById('global-news-title').innerText = data.globalNewsTitle;
                document.getElementById('global-news-summary').innerText = data.globalNewsSummary;
            } catch (e) { console.log("Manual connection to sanctuary required."); }
        }

        function toggleMoses() {
            const l = document.getElementById('moses-lectern');
            l.classList.toggle('lectern-active');
        }

        async function askMoses() {
            const input = document.getElementById('user-q');
            const archive = document.getElementById('chat-archive');
            const q = input.value.trim();
            if(!q) return;

            archive.innerHTML += `<div class="user-bubble"><b>Advocate:</b> ${q}</div>`;
            input.value = "";
            archive.scrollTop = archive.scrollHeight;

            try {
                const res = await fetch('/api/apostle-moses', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({question: q, type: 'chat'})
                });
                const data = await res.json();
                archive.innerHTML += `<div class="moses-response-bubble">${data.answer}</div>`;
            } catch (err) { archive.innerHTML += `<div style="color:red; font-size:0.7rem;">Connection lost.</div>`; }
            archive.scrollTop = archive.scrollHeight;
        }

        window.onload = () => {
            fetchDailyRevelation();
            document.getElementById('today-date').innerText = new Date().toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }).toUpperCase();
        };
    </script>
</body>
</html>